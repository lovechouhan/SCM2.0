<!DOCTYPE html>
<html class="light" lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title >SCM</title>

    
    <!-- flow bite css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" /> 
    <link rel="stylesheet" th:href="@{'/css/style.css'}" />
    <link rel="stylesheet" th:href="@{'/css/style.css'}" />
       
    <!-- font awesome cdnjs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
   

</head>
<body class="min-h-screen bg-blue-50 dark:bg-gray-900 dark:text-white"> 


    
   <!--common header can be included here-->
   <!-- looged in user navbar -->
    <header> 
    <div th:if="${loggedInUser}">
        <div th:replace="~{users/user_navbar :: user-navbar}"></div>
    </div>

   
    
    <!-- non logged in user navbar -->
    <div th:unless="${loggedInUser}">
        <div th:replace="~{navbar :: navbar}"></div>
    </div>
   
    
   
    </header> 

    
   

  <main layout:fragment="content">
        <!-- Child page content yahan inject hoga -->
    </main>
   
 <div layout:fragment="pagescripts"></div>



    <!-- flow bite content -->

    <!-- common footer -->

    <footer>
        <!-- Footer -->
    </footer>

   

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:src="@{'/js/script.js'}"></script>
<script th:src="@{'/js/admin.js'}"></script>
    <!-- <script th:src="@{/js/contactViewing.js}"></script> -->
    <script>
document.addEventListener("DOMContentLoaded", function() {
  const toggleBtn = document.querySelector("[aria-controls='navbar-cta']");
  const menu = document.getElementById("navbar-cta");
  if(toggleBtn && menu) {
    toggleBtn.addEventListener("click", function() {
      menu.classList.toggle("hidden");
    });
  }
});
</script>

<script>
const sidebar = document.getElementById('logo-sidebar');
const backdrop = document.getElementById('sidebar-backdrop');
const toggleBtn = document.getElementById('sidebar-toggle');

toggleBtn.addEventListener('click', () => {
  sidebar.classList.remove('-translate-x-full');
  backdrop.classList.remove('hidden');
});

backdrop.addEventListener('click', () => {
  sidebar.classList.add('-translate-x-full');
  backdrop.classList.add('hidden');
});
</script>

<script>
  // 1) dvh fallback: exposes --vh equals 1% of the visible viewport
  function setVh() {
    const vh = (window.visualViewport?.height ?? window.innerHeight) * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }
  setVh();
  addEventListener('resize', setVh);
  addEventListener('orientationchange', setVh);
</script>

<script>
  // 2) Drawer wiring + scroll lock
  document.addEventListener('DOMContentLoaded', () => {
    const sidebar  = document.getElementById('logo-sidebar');
    const backdrop = document.getElementById('sidebar-backdrop');
    const toggle   = document.getElementById('sidebar-toggle');

    const open = () => {
      sidebar?.classList.remove('-translate-x-full');
      backdrop?.classList.remove('hidden');
      document.documentElement.classList.add('overflow-hidden');    // lock background scroll
    };
    const close = () => {
      sidebar?.classList.add('-translate-x-full');
      backdrop?.classList.add('hidden');
      document.documentElement.classList.remove('overflow-hidden'); // unlock
    };

    toggle?.addEventListener('click', open);
    backdrop?.addEventListener('click', close);
  });
</script>

</html>